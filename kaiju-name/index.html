<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>title</title>
		<style type="text/css">
   		body {
   			margin: 30pt;
   		}

   		h1 {
   			line-height: 40pt;
   		}

   		div {
   			margin: 10pt 0;
   		}

/*   		#drop {
				min-height: 100px;
				width: 250px;
				background: #eee;
				padding: 10px;
				border:3px dotted #000;
			}*/

			fieldset { 
				display: block;
				margin-left: 2px;
				margin-right: 2px;
				padding-top: 0.35em;
				padding-bottom: 0.625em;
				padding-left: 0.75em;
				padding-right: 0.75em;
				border: 3px dotted #000;
			}

		</style>

		<script>
			var mix;
			var names = [];



			function onLoad() {

			}

			function startRead(evt) {
    			var file = document.getElementById('file').files[0];
    			if (file) {
    				// getAsText(file);
    				fr = new FileReader();
    				fr.onload = function(e) {
    					// e.target.result should contain the text
    					// console.log(fr.result);
    					var result = fr.result;

    					names = result.split('\n');
    					for (var i = 0; i < names.length; i++) {
    						names[i].trim();
    						console.log(names[i]);
    					}
					};
    				fr.readAsText(file);
       	 		// alert("Name: " + file.name + "\n" + "Last Modified Date :" + file.lastModifiedDate);
    			}
			}

			// var upload = function() {
			// 	var txt = document.getElementById("txt");
			// 	console.log(txt);
			// 	var file = txt.files[0];
			// 	console.log(file);
			// };

			function getName() {
				var r1 = 0;
				var r2 = 0;
				while (r1 == r2) {
					r1 = Math.floor(Math.random() * names.length);
					r2 = Math.floor(Math.random() * names.length);
				}
				// document.getElementById("title").append(names[r1] + " " + names[r2]);
				// document.write("");

				// var textNode = document.createTextNode(names[r1] + " " + names[r2]);
				// element.appendChild(textNode);

				var newtext = document.createTextNode(names[r1] + " " + names[r2]);
				var title = document.getElementById("title");
				var br = document.createElement("br");
				
  				title.appendChild(newtext);
  				title.appendChild(br);
			}



			// function addToList() {
			// 	var userInput = document.getElementById("userInput").value;
   //  			names.push(userInput);
   //  			// console.log(names[names.length - 1]);
			// }
			
		</script>

	<!-- 	<script>
			if (window.File && window.FileReader && window.FileList && window.Blob) {
				alert("File API supported.!");
			} else {
				alert("The File APIs are not fully supported in this browser.");
			}
		</script> -->

	</head>
	<body onload="onLoad()">
		
		<div><button id="next" onclick="getName()">generate name</button></div>

		<fieldset>
		<legend>Upload .txt file</legend>
		<input type="file" id="file" onchange="startRead()">
<!-- 		<input type="submit" value="Upload"> -->
		</fieldset>
		</form>

<!-- 		<div><input type="text" id="userInput"> <button id="addNew" onclick="addToList()">add to list</button></div> -->
		<!-- <div id="drop">Drop files here</div> -->

  		<h1 id="title"></h1>
	</body>
</html>